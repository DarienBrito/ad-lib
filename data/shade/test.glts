#pragma type cello
#pragma include simplevf

varying vec2 Vplanar;
#ifdef FS
vec3 fragment () {
	float radius = length (Vplanar - Ucenter);
    float norm = Uradius * 0.4;
    float ambient = (radius - norm) / (1 - norm);
    if (ambient < 0) discard;
	return Ucolour * ambient;
}
#else
vec4 vertex () {
    vec4 position = Umvp * vec4 (Apos2d, 0.0, 1.0);

	Vplanar = Apos2d;
    return position;
}
#endif

